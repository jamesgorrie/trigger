<!DOCTYPE html>
<head>
	<meta charset="utf-8" />
	<title>Guardian Trįggęr</title>
	<link rel="stylesheet" href="css/app.css" />
	<script src="/socket.io/socket.io.js"></script>
	<script src="js/id.js"></script>
	<script src="js/app.js"></script>
</head>

<body>

<hgroup>
	<h1>Trigger</h1>
	<img src="img/trigger.jpg" />
</hgroup>

<div class="actions">
	<div>
		<p>On some browsers, you may have to explicitly <a href="#" onclick="requestPermission(); return false;">allow notifications</a>. To test your connection, try sending a ping below.</p>
		<input type="text" name="userId" id="user-id" placeholder="User ID please" />
		<button type="button" id="set-user-id">Set user ID</button>
		<div class="meta">
			<p>To get your user ID, <a href="https://profile.code.dev-theguardian.com/signin" target="_blank">login</a>, and then run this in the console:</p>
			<pre>require(['common/modules/identity/api'], function() { console.log(arguments[0].getUserFromCookie().id) });</pre>
		</div>
	</div>
</div>

<div class="meta tools">
	<div id="status">Disconnected</div>
	<a href="#" onclick="connect(); return false;">(°͜ʖ°) Connect</a>
	<a href="#" onclick="disconnect(); return false;">(ಠ益ಠ) Disconnect</a>
	<a href="#" onclick="sendPing(); return false;">send ping</a>
	<a href="#" onclick="showDebuggingLinks(); return false;">debug</a>
</div>

<div id="output"></div> 

<div class="actions" id="debugging">
	<button data-action="/soulmates">Send everyone a Soulmates DM!</button>
	<button data-action="/comment">Send everyone a Guardian Reply to 21801084!</button>
	<button data-action="/content">Send everyone an article!</button>
	<button data-action="/breaking">Send everyone breaking news!</button>
</div>
</body>
</html>